#include "mruby_<%= module_name %>.h"

/* MRUBY_BINDING: header */
/* MRUBY_BINDING_END */

void
mruby_<%= module_name %>_define_macro_constants(mrb_state* mrb) {
/* MRUBY_BINDING: pre_macro_definitions */
/* MRUBY_BINDING_END */

<% macros.each do |macro| -%>
<% ctype = CTypes.get_macro_type(macro['name']) -%>
<%   next if !ctype || ctype.ignore? -%>
#ifdef <%= macro['name'] %>
  do {
<% ctype.box_lit(macro['name'], 'macro').each_line do |line| -%>
    <%= line.sub("\n", '') %>
<% end -%>
    mrb_define_const(mrb, <%= module_name %>_module(mrb), "<%= macro['name'] %>", macro);
  } while (0);
#endif
<% end -%>

/* MRUBY_BINDING: post_macro_definitions */
/* MRUBY_BINDING_END */
}

/* MRUBY_BINDING: footer */
/* MRUBY_BINDING_END */
